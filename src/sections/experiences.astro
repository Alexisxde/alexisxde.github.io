---
import { experiences } from "@/cv.json"
import NextJSIcon from "@/icons/logos/nextjs.svg"
import { Icon } from "astro-icon/components"

const { title, items } = experiences
---

<section class="flex flex-wrap gap-4 mt-8">
	<h2 class="text-xl font-semibold">{title}</h2>
	<div class="flex flex-col w-full gap-4">
		{
			items.map(({ logo, company, rol, description, period, url, stack }) => (
				<div class="p-4 gap-2 rounded-md ring-1 ring-inset bg-neutral-600/10 text-neutral-100 ring-neutral-700/30 space-y-1 flex flex-col">
					<div class="flex gap-4">
						<img
							src={logo}
							alt={company}
							class="size-12 object-contain rounded-md bg-neutral-700/30 flex-shrink-0"
						/>
						<div class="flex flex-col flex-1">
							<div class="flex items-center justify-between">
								<span class="text-base font-semibold">{company}</span>
								<span class="text-xs text-neutral-500 mb-2">{period}</span>
							</div>
							<div class="flex items-center justify-between">
								<span class="text-sm text-neutral-400 mb-1">{rol}</span>
								<span class="text-xs text-neutral-500 mb-2">{url}</span>
							</div>
						</div>
					</div>
					<div class="flex flex-col gap-2">
						{description.map(p => (
							<p class="text-xs text-neutral-300">{p}</p>
						))}
					</div>
					<div class="flex flex-wrap items-center justify-center gap-2">
						{stack.map(({ logo, name }) => (
							<span class="py-1 px-2 rounded-md text-xs pointer-events-none flex items-center justify-center gap-x-1 ring-1 ring-inset bg-neutral-600/10 text-neutral-400 ring-neutral-700/30">
								{logo === "nextjs" ? (
									<NextJSIcon class="size-4" />
								) : (
									<Icon name={`logos/${logo}`} class="size-4" />
								)}
								{name}
							</span>
						))}
					</div>
				</div>
			))
		}
	</div>
</section>
